
from enum import Enum

class PermissionScope(str, Enum):
    """Область видимости прав"""
    NONE = "none"      # Нет доступа
    OWN = "own"        # Только свои ресурсы
    ALL = "all"        # Все ресурсы
    SOME = "some"      # Определенные (по ID или категориям)
    APPROVED = "approved"  # Только утвержденные

class PermissionAction(str, Enum):
    """Возможные действия"""
    CREATE = "create"
    READ = "read"      # или VIEW
    UPDATE = "update"  # или EDIT
    DELETE = "delete"
    PUBLISH = "publish"
    UNPUBLISH = "unpublish"
    APPROVE = "approve"
    REJECT = "reject"
    EXPORT = "export"
    IMPORT = "import"
    MANAGE = "manage"  # полное управление
    MODERATE = "moderate"
    REPLY = "reply"
    RATE = "rate"
    SHARE = "share"
    DUPLICATE = "duplicate"
    ARCHIVE = "archive"
    RESTORE = "restore"
    STATS = "stats"    # просмотр статистики
    ANALYTICS = "analytics"
    SETTINGS = "settings"  # управление настройками

class AllPermissions:
    """Полный список всех возможных прав в системе"""

    # ===== 1. АУТЕНТИФИКАЦИЯ И ПОЛЬЗОВАТЕЛИ =====
    AUTH = {
        "login": "Может входить в систему",
        "register": "Может регистрироваться",
        "logout": "Может выходить",
        "reset_password": "Может сбрасывать пароль",
        "change_password": "Может менять пароль",
        "verify_email": "Может подтверждать email",
        "two_factor": "Может использовать 2FA",
    }

    USERS = {
        "create": "Создавать пользователей",
        "read": "Просматривать пользователей",
        "update": "Редактировать пользователей",
        "delete": "Удалять пользователей",
        "suspend": "Блокировать пользователей",
        "activate": "Активировать пользователей",
        "impersonate": "Входить под пользователем",
        "change_role": "Менять роли пользователей",
        "view_email": "Видеть email пользователей",
        "view_phone": "Видеть телефоны пользователей",
        "export": "Экспортировать список пользователей",
    }

    PROFILES = {
        "read": "Просматривать профили",
        "update": "Редактировать профили",
        "delete": "Удалять профили",
        "avatar": "Менять аватар",
        "settings": "Менять настройки профиля",
    }

    # ===== 2. МАРКЕТПЛЕЙС: ТОВАРЫ =====
    PRODUCTS = {
        "create": "Создавать товары",
        "read": "Просматривать товары",
        "update": "Редактировать товары",
        "delete": "Удалять товары",
        "publish": "Публиковать товары",
        "unpublish": "Снимать с публикации",
        "duplicate": "Дублировать товары",
        "archive": "Архивировать товары",
        "restore": "Восстанавливать из архива",

        # Детали товаров
        "manage_images": "Управлять изображениями",
        "manage_variants": "Управлять вариантами",
        "manage_prices": "Управлять ценами",
        "manage_inventory": "Управлять остатками",
        "manage_discounts": "Управлять скидками",

        # Модерация
        "approve": "Утверждать товары",
        "reject": "Отклонять товары",
        "feature": "Выделять товары (featured)",
        "unfeature": "Снимать выделение",

        # Категории и теги
        "manage_categories": "Управлять категориями товаров",
        "manage_tags": "Управлять тегами",

        # Статистика
        "stats": "Смотреть статистику товаров",
        "analytics": "Аналитика товаров",
        "export": "Экспортировать товары",
        "import": "Импортировать товары",
    }

    # ===== 3. МАРКЕТПЛЕЙС: КАТЕГОРИИ =====
    CATEGORIES = {
        "create": "Создавать категории",
        "read": "Просматривать категории",
        "update": "Редактировать категории",
        "delete": "Удалять категории",
        "reorder": "Изменять порядок категорий",
        "manage_tree": "Управлять деревом категорий",
    }

    # ===== 4. МАРКЕТПЛЕЙС: ЗАКАЗЫ =====
    ORDERS = {
        "create": "Создавать заказы",
        "read": "Просматривать заказы",
        "update": "Редактировать заказы",
        "delete": "Удалять заказы",
        "cancel": "Отменять заказы",

        # Процессинг
        "process": "Обрабатывать заказы",
        "confirm": "Подтверждать заказы",
        "pack": "Упаковывать заказы",
        "ship": "Отправлять заказы",
        "deliver": "Отмечать как доставленные",

        # Финансы
        "refund": "Возвращать средства",
        "invoice": "Создавать счета",
        "receipt": "Создавать чеки",

        # Статусы
        "change_status": "Менять статусы заказов",

        # Статистика
        "stats": "Статистика заказов",
        "export": "Экспорт заказов",
        "analytics": "Аналитика заказов",
    }

    ORDER_ITEMS = {
        "read": "Просматривать позиции заказа",
        "update": "Редактировать позиции",
        "delete": "Удалять позиции",
        "add": "Добавлять позиции",
        "replace": "Заменять позиции",
    }

    # ===== 5. МАРКЕТПЛЕЙС: ПРОДАВЦЫ =====
    SELLERS = {
        "create": "Создавать профиль продавца",
        "read": "Просматривать продавцов",
        "update": "Редактировать продавцов",
        "delete": "Удалять продавцов",
        "approve": "Утверждать продавцов",
        "reject": "Отклонять продавцов",
        "suspend": "Блокировать продавцов",
        "verify": "Верифицировать продавцов",

        # Финансы продавцов
        "view_balance": "Видеть баланс продавца",
        "process_payout": "Обрабатывать выплаты",
        "manage_commission": "Управлять комиссиями",

        # Магазин
        "manage_store": "Управлять магазином",
        "customize_store": "Настраивать дизайн магазина",
        "view_analytics": "Смотреть аналитику магазина",
    }

    # ===== 6. МАРКЕТПЛЕЙС: ПОСРЕДНИКИ =====
    MEDIATORS = {
        "create": "Создавать посредников",
        "read": "Просматривать посредников",
        "update": "Редактировать посредников",
        "delete": "Удалять посредников",
        "approve": "Утверждать посредников",
        "assign": "Назначать посредников",
        "rate": "Оценивать посредников",
    }

    # ===== 7. КОРЗИНА И ОПЛАТА =====
    CART = {
        "create": "Создавать корзину",
        "read": "Просматривать корзину",
        "update": "Редактировать корзину",
        "delete": "Удалять корзину",
        "add_item": "Добавлять товары",
        "remove_item": "Удалять товары",
        "update_quantity": "Менять количество",
        "apply_coupon": "Применять купоны",
        "save": "Сохранять корзину",
    }

    PAYMENTS = {
        "create": "Создавать платежи",
        "read": "Просматривать платежи",
        "update": "Редактировать платежи",
        "delete": "Удалять платежи",
        "process": "Обрабатывать платежи",
        "refund": "Возвращать платежи",
        "capture": "Захватывать платежи",
        "void": "Аннулировать платежи",

        # Методы оплаты
        "manage_methods": "Управлять методами оплаты",
        "view_details": "Видеть детали платежей",

        # Инвойсы
        "create_invoice": "Создавать счета",
        "send_invoice": "Отправлять счета",
        "pay_invoice": "Оплачивать счета",
    }

    # ===== 8. ДОСТАВКА И ЛОГИСТИКА =====
    SHIPPING = {
        "create": "Создавать доставки",
        "read": "Просматривать доставки",
        "update": "Редактировать доставки",
        "delete": "Удалять доставки",

        # Методы доставки
        "manage_methods": "Управлять методами доставки",
        "calculate": "Рассчитывать стоимость доставки",
        "track": "Отслеживать доставки",

        # Адреса
        "manage_addresses": "Управлять адресами доставки",
        "zones": "Управлять зонами доставки",
        "rates": "Управлять тарифами доставки",
    }

    # ===== 9. ОТЗЫВЫ И РЕЙТИНГИ =====
    REVIEWS = {
        "create": "Создавать отзывы",
        "read": "Просматривать отзывы",
        "update": "Редактировать отзывы",
        "delete": "Удалять отзывы",
        "reply": "Отвечать на отзывы",
        "rate": "Ставить оценки",
        "like": "Лайкать отзывы",
        "report": "Жаловаться на отзывы",
        "moderate": "Модерировать отзывы",
        "feature": "Выделять отзывы",
    }

    RATINGS = {
        "create": "Ставить оценки",
        "read": "Просматривать оценки",
        "update": "Редактировать оценки",
        "delete": "Удалять оценки",
        "stats": "Статистика оценок",
    }

    # ===== 10. КОНТЕНТ И СТРАНИЦЫ =====
    PAGES = {
        "create": "Создавать страницы",
        "read": "Просматривать страницы",
        "update": "Редактировать страницы",
        "delete": "Удалять страницы",
        "publish": "Публиковать страницы",
        "unpublish": "Снимать с публикации",
    }

    BLOG = {
        "create": "Создавать статьи",
        "read": "Просматривать статьи",
        "update": "Редактировать статьи",
        "delete": "Удалять статьи",
        "publish": "Публиковать статьи",
        "comment": "Комментировать статьи",
        "moderate_comments": "Модерировать комментарии",
    }

    # ===== 11. МАРКЕТИНГ И ПРОДВИЖЕНИЕ =====
    COUPONS = {
        "create": "Создавать купоны",
        "read": "Просматривать купоны",
        "update": "Редактировать купоны",
        "delete": "Удалять купоны",
        "apply": "Применять купоны",
        "stats": "Статистика купонов",
    }

    DISCOUNTS = {
        "create": "Создавать скидки",
        "read": "Просматривать скидки",
        "update": "Редактировать скидки",
        "delete": "Удалять скидки",
        "schedule": "Планировать скидки",
    }

    PROMOTIONS = {
        "create": "Создавать акции",
        "read": "Просматривать акции",
        "update": "Редактировать акции",
        "delete": "Удалять акции",
        "feature": "Выделять акции",
    }

    EMAIL_MARKETING = {
        "create": "Создавать рассылки",
        "read": "Просматривать рассылки",
        "update": "Редактировать рассылки",
        "delete": "Удалять рассылки",
        "send": "Отправлять рассылки",
        "templates": "Управлять шаблонами",
        "subscribers": "Управлять подписчиками",
    }

    # ===== 12. АНАЛИТИКА И ОТЧЕТЫ =====
    ANALYTICS = {
        "dashboard": "Доступ к дашборду",
        "sales": "Аналитика продаж",
        "traffic": "Аналитика трафика",
        "conversion": "Аналитика конверсии",
        "customers": "Аналитика клиентов",
        "products": "Аналитика товаров",
        "export": "Экспорт аналитики",
        "custom_reports": "Создание кастомных отчетов",
    }

    REPORTS = {
        "sales": "Отчеты по продажам",
        "inventory": "Отчеты по остаткам",
        "financial": "Финансовые отчеты",
        "customer": "Отчеты по клиентам",
        "generate": "Генерировать отчеты",
        "export": "Экспортировать отчеты",
        "schedule": "Планировать отчеты",
    }

    # ===== 13. СИСТЕМА И АДМИНИСТРИРОВАНИЕ =====
    SETTINGS = {
        "read": "Просматривать настройки",
        "update": "Редактировать настройки",
        "general": "Общие настройки",
        "payment": "Настройки оплаты",
        "shipping": "Настройки доставки",
        "tax": "Настройки налогов",
        "email": "Настройки email",
        "security": "Настройки безопасности",
        "maintenance": "Режим обслуживания",
    }

    LOGS = {
        "read": "Просматривать логи",
        "delete": "Удалять логи",
        "export": "Экспортировать логи",
        "audit": "Аудит логов",
    }

    BACKUP = {
        "create": "Создавать бэкапы",
        "restore": "Восстанавливать из бэкапа",
        "download": "Скачивать бэкапы",
        "schedule": "Планировать бэкапы",
    }

    # ===== 14. УВЕДОМЛЕНИЯ =====
    NOTIFICATIONS = {
        "read": "Просматривать уведомления",
        "create": "Создавать уведомления",
        "delete": "Удалять уведомления",
        "mark_read": "Отмечать как прочитанные",
        "settings": "Настройки уведомлений",
        "templates": "Шаблоны уведомлений",
    }

    # ===== 15. API И ИНТЕГРАЦИИ =====
    API = {
        "manage_keys": "Управлять API ключами",
        "access": "Доступ к API",
        "webhooks": "Управление вебхуками",
        "documentation": "Документация API",
    }

    INTEGRATIONS = {
        "manage": "Управлять интеграциями",
        "connect": "Подключать интеграции",
        "disconnect": "Отключать интеграции",
    }